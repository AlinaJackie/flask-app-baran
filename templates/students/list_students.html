{% extends 'base.html' %}

{% block content %}
<h1>Список студентів</h1>

<!-- Пошукова форма -->
<form method="GET" action="{{ url_for('students.list_students') }}">
  <div class="input-group mb-3">
    <input type="text" class="form-control" name="search" placeholder="Пошук за ім'ям або email" value="{{ request.args.get('search', '') }}">
    <button class="btn btn-outline-secondary" type="submit">Пошук</button>
  </div>
</form>

<table class="table">
  <thead>
    <tr>
      <th>Ім'я</th>
      <th>Email</th>
      <th>Група</th>
      <th>Дії</th>
    </tr>
  </thead>
  <tbody>
    {% for student in students %}
    <tr>
      <td>{{ student.name }}</td>
      <td>{{ student.email }}</td>
      <td>{{ student.group.name }}</td>
      <td>
        <a href="{{ url_for('students.edit_student', id=student.id) }}" class="btn btn-primary btn-sm">Редагувати</a>
        <a href="{{ url_for('students.delete_student', id=student.id) }}" class="btn btn-danger btn-sm">Видалити</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}


